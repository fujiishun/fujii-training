{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/reactapp/src/components/layouts/Header.tsx\",\n  _s = $RefreshSig$();\nimport React, { useContext } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { signOut } from \"lib/api/auth\";\nimport { AuthContext } from \"App\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  iconButton: {\n    marginRight: theme.spacing(2)\n  },\n  title: {\n    flexGrow: 1,\n    textDecoration: \"none\",\n    color: \"inherit\"\n  },\n  linkBtn: {\n    textTransform: \"none\"\n  }\n}));\nconst Header = () => {\n  _s();\n  const {\n    loading,\n    isSignedIn,\n    setIsSignedIn\n  } = useContext(AuthContext);\n  const classes = useStyles();\n  const histroy = useHistory();\n  // ボタン押下時\n  const handleSignOut = async e => {\n    try {\n      const res = await signOut();\n      if (res.data.success === true) {\n        // サインアウト時には各Cookieを削除\n        Cookies.remove(\"_access_token\");\n        Cookies.remove(\"_client\");\n        Cookies.remove(\"_uid\");\n        //　サインアウト\n        setIsSignedIn(false);\n        histroy.push(\"/signin\");\n      }\n    } catch (err) {}\n  };\n  const AuthButtons = () => {\n    // 認証完了後はサインアウト用のボタンを表示\n    // 未認証時は認証用のボタンを表示\n    if (!loading) {\n      if (isSignedIn) {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          color: \"inherit\",\n          className: classes.linkBtn,\n          onClick: handleSignOut,\n          children: \"\\u30B5\\u30A4\\u30F3\\u30A2\\u30A6\\u30C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(Button, {\n          component: Link,\n          to: \"/signin\",\n          color: \"inherit\",\n          className: classes.linkBtn,\n          children: \"\\u30B5\\u30A4\\u30F3\\u30A4\\u30F3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this);\n      }\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(AppBar, {\n      position: \"static\",\n      children: /*#__PURE__*/_jsxDEV(Toolbar, {\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          edge: \"start\",\n          className: classes.iconButton,\n          color: \"inherit\",\n          children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Typography, {\n          component: Link,\n          to: \"/\",\n          variant: \"h6\",\n          className: classes.title,\n          children: \"Sample\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(AuthButtons, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Header, \"QRB8nJMTYFtM8NEbn5CH5vJLp70=\", false, function () {\n  return [useStyles, useHistory];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useContext","useHistory","Link","Cookies","makeStyles","AppBar","Toolbar","Typography","Button","IconButton","MenuIcon","signOut","AuthContext","useStyles","theme","iconButton","marginRight","spacing","title","flexGrow","textDecoration","color","linkBtn","textTransform","Header","loading","isSignedIn","setIsSignedIn","classes","histroy","handleSignOut","e","res","data","success","remove","push","err","AuthButtons"],"sources":["/usr/src/app/reactapp/src/components/layouts/Header.tsx"],"sourcesContent":["import React, { useContext } from \"react\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport Cookies from \"js-cookie\";\nimport { makeStyles, Theme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport { signOut } from \"lib/api/auth\";\nimport { AuthContext } from \"App\";\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  iconButton: {\n    marginRight: theme.spacing(2),\n  },\n  title: {\n    flexGrow: 1,\n    textDecoration: \"none\",\n    color: \"inherit\",\n  },\n  linkBtn: {\n    textTransform: \"none\",\n  },\n}));\n\nconst Header: React.FC = () => {\n  const { loading, isSignedIn, setIsSignedIn } = useContext(AuthContext);\n  const classes = useStyles();\n  const histroy = useHistory();\n  // ボタン押下時\n  const handleSignOut = async (e: React.MouseEvent<HTMLButtonElement>) => {\n    try {\n      const res = await signOut();\n      if (res.data.success === true) {\n        // サインアウト時には各Cookieを削除\n        Cookies.remove(\"_access_token\");\n        Cookies.remove(\"_client\");\n        Cookies.remove(\"_uid\");\n        //　サインアウト\n        setIsSignedIn(false);\n        histroy.push(\"/signin\");\n      }\n    } catch (err) {}\n  };\n\n  const AuthButtons = () => {\n    // 認証完了後はサインアウト用のボタンを表示\n    // 未認証時は認証用のボタンを表示\n    if (!loading) {\n      if (isSignedIn) {\n        return (\n          <Button\n            color=\"inherit\"\n            className={classes.linkBtn}\n            onClick={handleSignOut}\n          >\n            サインアウト\n          </Button>\n        );\n      } else {\n        return (\n          <Button\n            component={Link}\n            to=\"/signin\"\n            color=\"inherit\"\n            className={classes.linkBtn}\n          >\n            サインイン\n          </Button>\n        );\n      }\n    } else {\n      return <></>;\n    }\n  };\n\n  return (\n    <>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.iconButton}\n            color=\"inherit\"\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component={Link}\n            to=\"/\"\n            variant=\"h6\"\n            className={classes.title}\n          >\n            Sample\n          </Typography>\n          <AuthButtons />\n        </Toolbar>\n      </AppBar>\n    </>\n  );\n};\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}